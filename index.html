<html>
<body>
  <script src="./index.js"></script>

  <div id="my-test">
    <span>Side: <span id="label"></span></span>
    <button id="myButton">Clicable</button>
  </div>

  <script>
    window.ga = function(_, options){console.log('sent', options);};

    var myTest = googleAnalyticsAB.create({
      name: 'MY_TEST',
      percentage: 100,
      options: [
        {
          name: 'green-button',
          weight: 1,
        },
        {
          name: 'red-button',
          weight: 1,
        }
      ],
      run: function(option) {
        document.getElementById('label').innerHTML = `SIDE ${option.name}`;
        var myButton = document.getElementById('myButton');
        myButton.style.background = option.name === 'green-button' ? '#0F0' : '#F00';
        myButton.addEventListener('click', function(ev) {
          this.convert();
        }.bind(this));
      }
    });
  </script>
</body>
</html>
